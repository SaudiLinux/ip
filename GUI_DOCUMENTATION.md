# توثيق الواجهة الرسومية لأداة جمع معلومات أرقام الهواتف

## نظرة عامة

هذا المستند يوفر توثيقًا تقنيًا للواجهة الرسومية (GUI) لأداة جمع معلومات أرقام الهواتف. الواجهة الرسومية مبنية باستخدام مكتبة Tkinter في Python وتوفر طريقة سهلة الاستخدام للتفاعل مع الأداة الأساسية.

## المتطلبات

- Python 3.6 أو أحدث
- مكتبة Tkinter (تأتي عادة مع تثبيت Python)
- جميع المتطلبات المذكورة في ملف `requirements.txt`

## بنية الكود

### الفئة الرئيسية: `PhoneInfoGUI`

الفئة الرئيسية التي تدير الواجهة الرسومية بأكملها.

#### الخصائص الرئيسية

- `root`: نافذة Tkinter الرئيسية
- `phone_tool`: كائن من فئة `PhoneInfoTool` للتعامل مع تحليل أرقام الهواتف
- `phone_number_var`: متغير Tkinter لتخزين رقم الهاتف المدخل
- `export_format_var`: متغير Tkinter لتخزين تنسيق التصدير المختار
- `export_path_var`: متغير Tkinter لتخزين مسار التصدير
- `results_text`: مربع نص قابل للتمرير لعرض النتائج
- `status_var`: متغير Tkinter لعرض حالة العملية الحالية
- `results`: قاموس يحتوي على نتائج تحليل الرقم

#### الدوال الرئيسية

##### `__init__(self, root)`

دالة البناء التي تهيئ الواجهة الرسومية.

**المعاملات**:
- `root`: نافذة Tkinter الرئيسية

**العمليات**:
- تهيئة النافذة الرئيسية
- إنشاء كائن `PhoneInfoTool`
- تهيئة متغيرات Tkinter
- إنشاء عناصر الواجهة
- تعيين السمات والألوان

##### `set_theme(self)`

تعيين ألوان وأنماط الواجهة الرسومية.

**العمليات**:
- تعيين ألوان الخلفية والعناوين والأزرار
- تكوين أنماط عناصر Tkinter

##### `create_widgets(self)`

إنشاء عناصر الواجهة الرسومية.

**العمليات**:
- إنشاء الإطار الرئيسي
- إنشاء العنوان
- إنشاء إطار إدخال رقم الهاتف
- إنشاء إطار تصدير النتائج
- إنشاء إطار عرض النتائج
- إنشاء شريط الحالة

##### `create_menu(self)`

إنشاء شريط القائمة للواجهة الرسومية.

**العمليات**:
- إنشاء قائمة الملف (تحليل رقم جديد، تصدير النتائج، خروج)
- إنشاء قائمة المساعدة (تعليمات، حول)

##### `analyze_number(self)`

تحليل رقم الهاتف المدخل.

**العمليات**:
- التحقق من إدخال رقم هاتف
- تعطيل الأزرار أثناء التحليل
- تحديث شريط الحالة
- تشغيل التحليل في خيط منفصل

##### `_analyze_thread(self, phone_number)`

تنفيذ عملية تحليل الرقم في خيط منفصل.

**المعاملات**:
- `phone_number`: رقم الهاتف المراد تحليله

**العمليات**:
- استدعاء دالة `analyze_number` من كائن `PhoneInfoTool`
- تحديث واجهة المستخدم بالنتائج

##### `_update_results(self)`

تحديث مربع النتائج بنتائج التحليل.

**العمليات**:
- تحديث مربع النص بالنتائج المنسقة
- تحديث شريط الحالة
- إعادة تفعيل الأزرار

##### `_show_error(self, error_message)`

عرض رسالة خطأ للمستخدم.

**المعاملات**:
- `error_message`: رسالة الخطأ

**العمليات**:
- عرض نافذة رسالة خطأ
- تحديث شريط الحالة
- إعادة تفعيل الأزرار

##### `clear_results(self)`

مسح النتائج وإعادة تعيين الواجهة.

**العمليات**:
- مسح حقل إدخال رقم الهاتف
- مسح النتائج المخزنة
- مسح مربع النتائج
- إعادة تعيين شريط الحالة

##### `browse_export_path(self)`

فتح مربع حوار لاختيار مجلد التصدير.

**العمليات**:
- فتح مربع حوار اختيار المجلد
- تحديث متغير مسار التصدير

##### `export_results(self)`

تصدير نتائج التحليل إلى ملف.

**العمليات**:
- التحقق من وجود نتائج صالحة
- التحقق من وجود مجلد التصدير وإنشائه إذا لم يكن موجودًا
- استدعاء دالة `export_results` من كائن `PhoneInfoTool`
- تحديث شريط الحالة
- عرض رسالة تأكيد وسؤال المستخدم إذا كان يريد فتح الملف

##### `_open_file(self, file_path)`

فتح الملف المصدر باستخدام التطبيق الافتراضي للنظام.

**المعاملات**:
- `file_path`: مسار الملف المراد فتحه

**العمليات**:
- فتح الملف باستخدام الأمر المناسب حسب نظام التشغيل

##### `show_help(self)`

عرض نافذة تعليمات الاستخدام.

**العمليات**:
- إنشاء نافذة منبثقة
- عرض نص التعليمات
- إضافة زر إغلاق

##### `show_about(self)`

عرض معلومات حول البرنامج.

**العمليات**:
- عرض نافذة رسالة معلوماتية تحتوي على معلومات البرنامج والمطور

### الدالة الرئيسية: `main()`

نقطة الدخول الرئيسية للبرنامج.

**العمليات**:
- إنشاء نافذة Tkinter الرئيسية
- إنشاء كائن `PhoneInfoGUI`
- بدء حلقة أحداث Tkinter

## تدفق البيانات

1. **إدخال المستخدم**:
   - المستخدم يدخل رقم الهاتف في حقل الإدخال
   - المستخدم ينقر على زر "تحليل الرقم"

2. **معالجة البيانات**:
   - يتم استدعاء دالة `analyze_number`
   - يتم تشغيل التحليل في خيط منفصل باستخدام `_analyze_thread`
   - يتم استدعاء `analyze_number` من كائن `PhoneInfoTool`
   - يتم تخزين النتائج في متغير `results`

3. **عرض النتائج**:
   - يتم استدعاء `_update_results` لتحديث واجهة المستخدم
   - يتم عرض النتائج في مربع النص
   - يتم تحديث شريط الحالة

4. **تصدير النتائج**:
   - المستخدم يختار تنسيق التصدير ومجلد التصدير
   - المستخدم ينقر على زر "تصدير النتائج"
   - يتم استدعاء دالة `export_results`
   - يتم استدعاء `export_results` من كائن `PhoneInfoTool`
   - يتم عرض رسالة تأكيد

## تفاصيل التنفيذ

### التعامل مع الخيوط

تستخدم الواجهة الرسومية خيوطًا منفصلة لتنفيذ عمليات التحليل لتجنب تجميد واجهة المستخدم أثناء المعالجة. يتم استخدام وحدة `threading` لإنشاء خيط منفصل لتنفيذ عملية التحليل، ثم يتم استخدام `root.after` لتحديث واجهة المستخدم بالنتائج بعد اكتمال التحليل.

### التعامل مع الأخطاء

تستخدم الواجهة الرسومية بنية try-except لالتقاط الأخطاء التي قد تحدث أثناء التحليل أو التصدير. يتم عرض رسائل خطأ مناسبة للمستخدم باستخدام `messagebox.showerror`.

### تصدير النتائج

توفر الواجهة الرسومية خيارات متعددة لتصدير النتائج:
- JSON: تنسيق بيانات هيكلي
- CSV: تنسيق قيم مفصولة بفواصل
- Excel: جدول بيانات Excel
- HTML: صفحة ويب منسقة

## تخصيص الواجهة

### تغيير السمات والألوان

يمكن تخصيص مظهر الواجهة الرسومية عن طريق تعديل دالة `set_theme`. يمكن تغيير الألوان والخطوط وأحجام العناصر حسب الحاجة.

### إضافة ميزات جديدة

لإضافة ميزات جديدة إلى الواجهة الرسومية، يمكن اتباع الخطوات التالية:

1. إضافة عناصر واجهة جديدة في دالة `create_widgets`
2. إضافة متغيرات Tkinter جديدة في دالة `__init__`
3. إضافة دوال معالجة جديدة للميزات الجديدة

## أفضل الممارسات

### أداء الواجهة

- استخدام خيوط منفصلة للعمليات الطويلة
- تجنب تحديث واجهة المستخدم بشكل متكرر
- استخدام `after` بدلاً من `update` لتحديث واجهة المستخدم

### تجربة المستخدم

- توفير تغذية راجعة واضحة للمستخدم
- عرض رسائل خطأ مفهومة
- توفير تعليمات استخدام واضحة
- استخدام ألوان وأنماط متناسقة

## الاختبار

### اختبار الواجهة

يمكن اختبار الواجهة الرسومية يدويًا باتباع الخطوات التالية:

1. تشغيل البرنامج باستخدام `run_gui.bat`
2. إدخال أرقام هواتف صالحة وغير صالحة
3. اختبار جميع الأزرار والوظائف
4. اختبار تصدير النتائج بجميع التنسيقات

### اختبار التوافق

يجب اختبار الواجهة الرسومية على أنظمة تشغيل مختلفة للتأكد من توافقها:
- Windows
- macOS
- Linux

## الخلاصة

توفر الواجهة الرسومية لأداة جمع معلومات أرقام الهواتف طريقة سهلة الاستخدام للتفاعل مع الأداة الأساسية. تم تصميمها باستخدام مكتبة Tkinter وتوفر جميع الوظائف الأساسية للأداة مع واجهة مستخدم رسومية سهلة الاستخدام.

---

**المطور**: Saudi Linux  
**البريد الإلكتروني**: SaudiLinuxy7@gmail.com